# Read about fixtures at http://ar.rubyonrails.org/classes/Fixtures.html

# Please note that dates in yml are not converted to utc timezone like
# rails does automatically in models or controllers! Convert to utc manually!

<%
def today
  Time.zone.now.utc.beginning_of_day.to_s(:db)
end

def next_week
  1.week.from_now.utc.beginning_of_day.to_s(:db)
end

def last_week
  1.week.ago.utc.beginning_of_day.to_s(:db)
end

def two_weeks_ago
  2.weeks.ago.utc.beginning_of_day.to_s(:db)
end

def two_weeks_hence
  2.weeks.from_now.utc.beginning_of_day.to_s(:db)
end

%>

call_bill:
  context: agenda
  project: moremoney
  description: Call Bill Gates to find out how much he makes per day
  notes: ~
  state: active
  created_at: <%= last_week %>
  due: <%= two_weeks_hence %>
  completed_at: ~
  user_id: 1

call_dino_ext:
  context: call
  project: gardenclean
  description: Call dinosaur exterminator
  notes: Ask him if I need to hire a skip for the corpses.
  state: active
  created_at: <%= today %>
  due: <%= two_weeks_hence %>
  completed_at: ~
  user_id: 1

buy_milk:
  context: errand
  project: ~
  description: Buy milk
  notes: ~
  state: completed
  created_at: <%= today %>
  due: ~
  completed_at: <%= today %>
  user_id: 1

buy_bread:
  context: errand
  project: ~
  description: Buy bread
  notes: ~
  state: completed
  created_at: <%= today %>
  due: ~
  completed_at: <%= today %>
  user_id: 1

construct_dilation_device:
  context: lab
  project: timemachine
  description: Construct time dilation device
  notes: ~
  state: active
  created_at: <%= today %>
  due: ~
  completed_at: ~
  user_id: 1

phone_grandfather:
  context: call
  project: timemachine
  description: Phone Grandfather to ask about the paradox
  notes: Added some _notes_.
  state: active
  created_at: <%= today %>
  due: <%= last_week %>
  completed_at: ~
  user_id: 1

book:
  context: library
  project: gardenclean
  description: Get a book out of the library
  notes: 'Dinosaurs''R'
  state: active
  created_at: <%= today %>
  due: ~
  completed_at: ~
  user_id: 1

upgrade_rails:
  context: errand
  project: ~
  description: Upgrade to Rails 0.9.1
  notes: ~
  state: completed
  created_at: <%= today %>
  due: <%= today %>
  completed_at: <%= today %>
  user_id: 1

due_today:
  context: agenda
  project: ~
  description: This should be due today
  notes: ~
  state: active
  created_at: <%= today %>
  due: <%= today %>
  completed_at: ~
  user_id: 1

foo:
  context: agenda
  project: ~
  description: foo
  notes: ~
  state: completed
  created_at: <%= two_weeks_ago %>
  due: <%= two_weeks_hence %>
  completed_at: <%= last_week %>
  user_id: 1

buy_shares:
  context: agenda
  project: moremoney
  description: Buy shares
  notes: ~
  state: active
  created_at: <%= today %>
  due: <%= next_week %>
  completed_at: ~
  user_id: 1

buy_stego_bait:
  context: agenda
  project: gardenclean
  description: Buy stegosaurus bait
  notes: ~
  state: active
  created_at: <%= today %>
  due: <%= next_week %>
  completed_at: ~
  user_id: 1

new_action_in_context:
  context: agenda
  project: gardenclean
  description: New action in context
  notes: Some notes
  state: active
  created_at: <%= today %>
  due: <%= next_week %>
  completed_at: ~
  user_id: 1

call_stock_broker:
  context: call
  project: moremoney
  description: Call stock broker
  notes: 'tel: 12345'
  state: active
  created_at: <%= last_week %>
  due: ~
  completed_at: ~
  user_id: 1

select_delorean_model:
  context: library
  project: timemachine
  description: Select Delorean model
  notes: ~
  state: deferred
  created_at: <%= today %>
  due: ~
  completed_at: ~
  show_from: <%= next_week %>
  user_id: 1

buy_tix:
  context: office_otheruser
  project: attendrailsconf
  description: Buy tix
  notes: ~
  state: active
  created_at: <%= today %>
  due: ~
  completed_at: ~
  show_from: <%= next_week %>
  user_id: 2

pal_confirmation:
  context: waitingfor_otheruser
  project: attendrailsconf
  description: Confirmation from pal
  notes: ~
  state: active
  created_at: <%= today %>
  due: ~
  completed_at: ~
  show_from: <%= next_week %>
  user_id: 2

call_bill_gates_every_day:
  user_id: 1
  context: agenda
  project: moremoney
  description: Call Bill Gates every day
  notes: ~
  state: active
  created_at: <%= last_week %>
  due: <%= last_week %>
  completed_at: ~
  show_from: ~
  recurring_todo_id: 1

email_broker:
  user_id: 1
  context: email
  description: Ask about better stocks
  notes: ~
  state: pending
